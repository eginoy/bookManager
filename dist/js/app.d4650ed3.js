(function(e){function t(t){for(var n,i,r=t[0],c=t[1],u=t[2],d=0,b=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&b.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,r=1;r<o.length;r++){var c=o[r];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},s={app:0},a=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0313":function(e,t,o){"use strict";o("548a")},"034f":function(e,t,o){"use strict";o("85ec")},"0522":function(e,t,o){"use strict";o("e5fd")},"0647":function(e,t,o){},1:function(e,t){},"1f1c":function(e,t,o){"use strict";o("ae5d")},2:function(e,t){},4678:function(e,t,o){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return o(t)}function a(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="4678"},"51e4":function(e,t,o){"use strict";o("a643")},"548a":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=o("2f62"),a=o("63e0"),i=o("94d5"),r={book:{},books:[],isScan:!1,isSearched:!1,code:null},c={SetBookInfo:function(e,t){e.book=t},SetBooks:function(e,t){e.books=t},SetIsScan:function(e,t){e.isScan=t},SetIsSearched:function(e,t){e.isSearched=t},SetCode:function(e,t){e.code=t}};n["default"].use(s["a"]);var u,l,d=new s["a"].Store({actions:a,getters:i,state:r,mutations:c}),b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("CommonHeader"),o("router-view")],1)},f=[],p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nav",{staticClass:"p-navbar"},[o("div",{staticClass:"p-navbar-links"},[o("div",{staticClass:"p-navbar-links-left"},[o("router-link",{attrs:{to:"/"}},[e.hasAuthority&&e.isLogined?o("v-fa",{staticClass:"p-bookIcon",attrs:{icon:"book-open"}}):o("v-fa",{staticClass:"p-bookIcon",attrs:{icon:"book"}})],1),""!==e.currentUserName?o("span",{staticClass:"p-headerLabel"},[e._v("こんにちは、"+e._s(e.currentUserName)+"さん")]):o("span",{staticClass:"p-headerLabel"},[e._v("BookManager")])],1),e.isLogined&&e.hasAuthority?o("div",{staticClass:"p-navbar-links-right"},[e.isBurgerShow?o("slide",{attrs:{right:"",noOverlay:"",width:"250"}},[o("router-link",{staticClass:"p-link",attrs:{to:"/bookRegist"}},[e._v("書籍登録")]),o("router-link",{staticClass:"p-link",attrs:{to:"/books"}},[e._v("書籍一覧")]),e.isLogined?o("router-link",{staticClass:"p-link",attrs:{to:"/logout"}},[e._v("ログアウト")]):o("router-link",{staticClass:"p-link",attrs:{to:"/login"}},[e._v("ログイン")])],1):o("div",[o("router-link",{staticClass:"p-link",attrs:{to:"/bookRegist"}},[e._v("書籍登録")]),o("router-link",{staticClass:"p-link",attrs:{to:"/books"}},[e._v("書籍一覧")]),e.isLogined?o("router-link",{staticClass:"p-link",attrs:{to:"/logout"}},[e._v("ログアウト")]):o("router-link",{staticClass:"p-link",attrs:{to:"/login"}},[e._v("ログイン")])],1)],1):e._e()])])},h=[],k=o("260b"),m=(o("66ce"),o("ea7b"),o("1157")),j=o.n(m),v=o("db0f"),g={data:function(){return{currentUserName:"",isLogined:!1,isBurgerShow:!0}},components:{Slide:v["Slide"]},methods:{resizeHandler:function(){this.isBurgerShow=j()(window).width()<600}},created:function(){var e=this;k["a"].auth().onAuthStateChanged((function(t){t||(e.currentUserName="",e.isLogined=!1),e.currentUserName=t.displayName,e.isLogined=!0})),this.isBurgerShow=j()(window).width()<600,window.addEventListener("resize",this.resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler)},computed:{hasAuthority:function(){return"/noAuthority"!==this.$route.path}}},y=g,C=(o("1f1c"),o("2877")),S=Object(C["a"])(y,p,h,!1,null,null,null),_=S.exports,w={components:{CommonHeader:_}},I=w,B=(o("034f"),Object(C["a"])(I,b,f,!1,null,null,null)),O=B.exports,D=(o("4d63"),o("ac1f"),o("25f0"),o("8c4f")),E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-booksWrapper"},e._l(e.books,(function(e){return o("Books",{key:e.bookLink,staticClass:"c-books",attrs:{book:e}})})),1)},x=[],z=(o("7db0"),o("5530")),L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-bookInfo"},[o("div",[o("img",{staticClass:"p-bookInfo-image",attrs:{src:e.book.bookImage}})]),o("div",{staticClass:"p-bookInfo-detail"},[o("div",{staticClass:"p-bookInfo-detail-title"},[o("a",{staticClass:"p-bookInfo-detail-link",attrs:{href:e.book.bookLink,target:"_blank"}},[e._v(e._s(e.book.bookTitle))])]),o("span",{staticClass:"p-bookInfo-detail-insertDate"},[e._v("登録日:"),o("br"),e._v(e._s(e.book.insertDate))])])])},$=[],A={props:["book"],data:function(){return{}}},N=A,R=(o("0313"),Object(C["a"])(N,L,$,!1,null,null,null)),T=R.exports,q={components:{Books:T},data:function(){return{}},methods:Object(z["a"])({createEmptyElement:function(){for(var e=j()(".p-booksWrapper"),t=[],o=0;o<e.find(".p-bookInfo").length;o++)t.push(j()("<div>",{class:"p-bookInfo__empty"}));e.append(t)}},Object(s["b"])(["SetBooks"])),created:function(){var e=this,t=k["a"].database(),o=t.ref("server/saving-data/books").orderByChild("publishedDate");o.on("value",(function(t){e.SetBooks(t.val())}))},mounted:function(){this.$nextTick((function(){this.createEmptyElement()}))},updated:function(){this.$nextTick((function(){this.createEmptyElement()}))},computed:Object(z["a"])({},Object(s["c"])(["books"]))},M=q,P=(o("0522"),Object(C["a"])(M,E,x,!1,null,null,null)),H=P.exports,U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-pageWrapper"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.books.length,expression:"books.length"}]},[o("div",{staticClass:"c-book"},[e._l(e.books,(function(e){return o("Books",{key:e.bookIsbnCode10,attrs:{book:e}})})),e.isDuplicateBook?o("div",[o("span",{staticClass:"p-registeredMessage"},[e._v("登録済みの書籍です。")])]):o("button",{staticClass:"p-bookInfo-registerButton btn btn-primary",attrs:{disabled:e.isRegisterd},on:{click:e.registerBookInfo}},[o("span",[e._v(e._s(e.buttonMessage))])])],2)]),e.isEmptyResult?o("div",[e._m(0)]):e._e(),o("div",{staticClass:"c-barcodeReader"},[o("BookSearch")],1)])},W=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-notFound"},[o("span",[e._v("検索結果:0件")])])}],G=(o("b64b"),o("c1df")),Y=o.n(G),F=o("c51a"),J=o.n(F),K=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:e.isScan,expression:"isScan"}],staticClass:"p-scanWrapper"}),o("section",{staticClass:"p-scanButtonWrapper"},[e.isScan?e._e():o("button",{staticClass:"p-scanButton btn btn-primary",attrs:{type:"button"},on:{click:e.startScan}},[e._v(" バーコードで検索 ")]),e.isScan?e._e():o("div",{staticClass:"p-scanDescription"},[o("p",[e._v("※動作ブラウザ")]),o("p",[e._v("iPhone:Safari")]),o("p",[e._v("Android:Chrome")])])]),e.isScan?e._e():o("section",{staticClass:"p-isbnSearchInputGroup input-group mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"上段バーコードのISBN入力"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),o("div",{staticClass:"input-group-append"},[o("input",{staticClass:"btn btn-primary",attrs:{value:"検索",type:"button"},on:{click:e.search}})])])])},Q=[],X=(o("4160"),o("d81d"),o("d3b7"),o("1276"),o("159b"),o("8a00")),V=o.n(X),Z={data:function(){return{code:null,width:0,height:0}},methods:Object(z["a"])(Object(z["a"])({},Object(s["b"])(["SetIsScan","SetIsSearched","SetCode"])),{},{startScan:function(){var e=this;e.$eventHub.$emit("scan-start"),V.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector(".p-scanWrapper"),constraints:{facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"50%"}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,decoder:{readers:["ean_reader"]},locate:!0},(function(e){e||V.a.start()})),e.SetIsScan(!0)},getEanCode:function(){var e=this;V.a.onDetected((function(t){var o=t.codeResult.code;void 0!==o&&(e.checkDigit(o)?(e.code=o,V.a.stop(),e.SetIsScan(!1),e.SetIsSearched(!0),V.a.stop(),e.$eventHub.$emit("success-scan",e.code),e.SetCode(o)):e.getEanCode())}))},checkDigit:function(e){var t=e.toString().split("").map((function(e){return parseInt(e)})),o=0,n=t.pop();return t.forEach((function(e,t){o+=e*(t%2===0?1:3)})),o%=10,o=0===o?0:10-o,n===o},search:function(){this.SetIsSearched(!0),this.$eventHub.$emit("success-scan",this.code),this.SetCode(this.code)}}),updated:function(){this.$nextTick((function(){this.getEanCode()}))},created:function(){this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,j()("body").css("width",this.w)},watch:{isScan:function(){j()("video").css({"z-index":"-100",position:"absolute",width:"90%",height:"60%"}),j()(".drawingBuffer").css({position:"absolute"})}},computed:Object(z["a"])({},Object(s["c"])(["isScan","isSearched"])),code:{get:function(){return this.$store.state.code},set:function(e){this.SetCode(e)}}},ee=Z,te=(o("51e4"),Object(C["a"])(ee,K,Q,!1,null,"01b2b328",null)),oe=te.exports,ne={components:{Books:T,BookSearch:oe},data:function(){return{books:[],bookTitle:"",bookImage:"",bookIsbnCode10:0,bookIsbnCode13:0,bookLink:"",publishedDate:"",isScanNow:!1,isDuplicateBook:!1,isRegisterd:!1,inquiryCount:0}},methods:Object(z["a"])(Object(z["a"])({},Object(s["b"])(["SetBookInfo","SetIsSearched"])),{},{getBookInfo:function(){var e=this,t=e.code;e.isDuplicateBook=!1,e.isRegisterd=!1,e.checkDuplicateBook(t),e.SetIsSearched(!0),e.inquiryCount=0,e.resetBookData(),e.inquiryOpenBd(t).done((function(o){o||e.inquiryGoogleBooks(t).done((function(o){o||e.inquiryNationalLibrary(t).done((function(){}))}))}))},inquiryNationalLibrary:function(e){var t=this;return j.a.ajax({url:"https://iss.ndl.go.jp/api/sru?operation=searchRetrieve&recordPacking=xml&query=isbn=".concat(e),cache:!1,type:"get",datatype:"xml"}).then((function(o){var n=JSON.parse(J.a.xml2json((new XMLSerializer).serializeToString(o)));t.setBookInfo(n,e,1)}),(function(e){return e}))},inquiryGoogleBooks:function(e){var t=this;return j.a.ajax({url:"https://www.googleapis.com/books/v1/volumes?q=isbn:".concat(e),cache:!1,type:"get",datatype:"json"}).then((function(o){var n=!0;return 0===o.totalItems?n=!1:t.setBookInfo(o,e,2),j.a.Deferred().resolve(n)}),(function(){return"error"}))},inquiryOpenBd:function(e){var t=this;return j.a.ajax({url:"https://api.openbd.jp/v1/get?isbn=".concat(e),cache:!1,type:"get",datatype:"json"}).then((function(o){var n=!0;return null===o[0]?n=!1:t.setBookInfo(o,e,3),j.a.Deferred().resolve(n)}),(function(){return"error"}))},setBookInfo:function(e,t,o){var n,s=this;switch(o){case 1:if("0"===e.elements[0].elements[1].elements[0].text){s.books=[];break}var a=e.elements[0].elements[4].elements[0].elements[2].elements[0].elements[0].elements[0].text;s.setBookData(t,a,"","");break;case 2:n=e.items[0].volumeInfo,void 0===n.imageLinks&&(n.imageLinks={smallThumbnail:""}),s.setBookData(t,n.title,n.imageLinks.smallThumbnail,n.publishedDate);break;case 3:n=e[0].summary,s.setBookData(t,n.title,n.cover,n.pubdate);break}""!==s.bookImage&&0!==s.bookIsbnCode10&&0!==s.bookIsbnCode13&&""!==s.publishedDate||0!==s.inquiryCount||(s.inquiryCount++,s.inquiryGoogleBooks(t)),0===s.bookIsbnCode10&&0===s.bookIsbnCode13||(s.books=[{bookTitle:s.bookTitle,bookImage:""===s.bookImage?"http://placehold.jp/24/cccccc/ffffff/128x165.png?text=Image%0D%0ANotFound":s.bookImage,bookIsbnCode10:s.bookIsbnCode10,bookIsbnCode13:s.bookIsbnCode13,bookLink:s.bookLink,publishedDate:s.publishedDate,insertDate:Y()(new Date).format("YYYY/MM/DD")}]),s.SetIsSearched(!0),""===s.books[0].bookTitle&&s.resetBookData()},registerBookInfo:function(){var e=this,t=k["a"].database(),o=t.ref("server/saving-data/books");o.push(e.books[0]),e.isRegisterd=!0},checkDuplicateBook:function(e){var t=this,o=k["a"].database(),n=o.ref("server/saving-data/books");n.orderByChild("bookIsbnCode10").startAt(e).endAt(e).once("value",(function(e){e.val()&&0!==Object.keys(e.val()).length&&(t.isDuplicateBook=!0)})),n.orderByChild("bookIsbnCode13").startAt(e).endAt(e).once("value",(function(e){e.val()&&0!==Object.keys(e.val()).length&&(t.isDuplicateBook=!0)}))},setBookData:function(e,t,o,n){var s=this;""===s.bookTitle&&(s.bookTitle=t),""===s.bookImage&&(s.bookImage=o),0===s.bookIsbnCode10&&10===e.length&&(s.bookIsbnCode10=e),0===s.bookIsbnCode13&&13===e.length&&(s.bookIsbnCode13=e),""===s.bookLink&&(s.bookLink="https://www.amazon.co.jp/s?k=".concat(e,"&__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&ref=nb_sb_noss")),""===s.publishedDate&&(s.publishedDate=Y()(n).format("YYYY-MM-DD"))},resetBookData:function(){this.books=[],this.bookTitle="",this.bookImage="",this.bookIsbnCode10=0,this.bookIsbnCode13=0,this.bookLink="",this.publishedDate="",this.isScanNow=!0}}),created:function(){},watch:{isSearched:function(){this.getBookInfo()}},computed:Object(z["a"])(Object(z["a"])({},Object(s["c"])(["isSearched","isScan","code"])),{},{buttonMessage:function(){return this.isRegisterd?"登録済み":"登録"},isEmptyResult:function(){return!(0!==this.books.length||!this.isSearched||this.isScanNow)}})},se=ne,ae=(o("bdef"),Object(C["a"])(se,U,W,!1,null,"0e6949fe",null)),ie=ae.exports,re=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-pageWrapper"},[e._m(0),o("button",{staticClass:"p-loginButton btn btn-primary",on:{click:e.googleLogin}},[e._v(" Googleアカウントでログイン ")])])},ce=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-message"},[o("span",[e._v("ログインすると以下の機能が利用できます。")]),o("ul",{staticClass:"p-message-list"},[o("li",[e._v("バーコード情報から書籍の登録")]),o("li",[e._v("登録された書籍の閲覧")])])])}],ue={name:"login",data:function(){return{errorMessage:""}},methods:{googleLogin:function(){var e=this,t=new k["a"].auth.GoogleAuthProvider;k["a"].auth().signInWithRedirect(t).then((function(t){console.log(t);var o={id:t.user.uid,name:t.user.displayName,domain:t.additionalUserInfo.profile.hd};console.log(o);var n=k["a"].database().ref("server/saving-data/users");n.child(o.id).set(o),e.$router.push("/")})).catch((function(t){console.log(t),e.$router.push({path:"/"})}))}},beforeCreate:function(){null!==k["a"].auth().currentUser&&this.$router.push({path:"/books"})}},le=ue,de=(o("9e91"),Object(C["a"])(le,re,ce,!1,null,"da40aa14",null)),be=de.exports,fe={data:function(){return{}},created:function(){var e=this;k["a"].auth().signOut().then((function(){e.$router.push({path:"/"})}))}},pe=fe,he=Object(C["a"])(pe,u,l,!1,null,null,null),ke=he.exports,me=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-messageWrapper"},[o("span",{staticClass:"p-message"},[e._v("お使いのアカウントには閲覧権限がありません。")]),o("router-link",{attrs:{to:"/logout"}},[o("button",{staticClass:"btn btn-primary"},[e._v("ログアウトする")])])],1)},je=[],ve={data:function(){return{user:null}}},ge=ve,ye=(o("8527"),Object(C["a"])(ge,me,je,!1,null,"2e548cac",null)),Ce=ye.exports;n["default"].use(D["a"]);var Se=new D["a"]({mode:"history",routes:[{path:"/",component:H,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){var t=new RegExp(".*@monoworks.co.jp$");if(null===e)return o({path:"/login"});t.test(e.email)?o():o({path:"/noAuthority"})}))}},{path:"/books",component:H,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){var t=new RegExp(".*@monoworks.co.jp$");if(null===e)return o({path:"/login"});t.test(e.email)?o():o({path:"/noAuthority"})}))}},{path:"/bookRegist",component:ie,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){var t=new RegExp(".*@monoworks.co.jp$");if(null===e)return o({path:"/login"});t.test(e.email)?o():o({path:"/noAuthority"})}))}},{path:"/noAuthority",component:Ce,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){if(null===e)return o({path:"/login"});o()}))}},{path:"/login",component:be,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){if(null!==e)return o({path:"/books"});o()}))}},{path:"/logout",component:ke,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){if(null===e)return o({path:"/login"});o()}))}},{path:"*",component:H,beforeEnter:function(e,t,o){k["a"].auth().onAuthStateChanged((function(e){var t=new RegExp(".*@monoworks.co.jp$");if(null===e)return o({path:"/login"});t.test(e.email)?o():o({path:"/noAuthority"})}))}}]}),_e=Se,we=(o("000b"),o("5f5b")),Ie=(o("f9e3"),o("ecee")),Be=o("c074"),Oe=o("b702"),De=o("f2d1"),Ee=o("ad3d");Ie["c"].add(Be["a"],Oe["a"],De["a"]),n["default"].component("v-fa",Ee["a"]),n["default"].prototype.$eventHub=new n["default"],n["default"].use(_e,we["a"],we["IconPlugin"]),n["default"].config.productionTip=!1;var xe={apiKey:"AIzaSyBqTUMBDPsd4Nl9sS7RrwPh3QaHhFyqjq4",authDomain:"bookmanager-5ba4c.firebaseapp.com",databaseURL:"https://bookmanager-5ba4c.firebaseio.com",projectId:"bookmanager-5ba4c",storageBucket:"bookmanager-5ba4c.appspot.com",messagingSenderId:"991241456327",appId:"1:991241456327:web:933a53fa86a3fa5e7f0ce2",measurementId:"G-PNHNDBKK49"};k["a"].initializeApp(xe),k["a"].analytics(),n["default"].config.productionTip=!1,new n["default"]({router:_e,store:d,render:function(e){return e(O)}}).$mount("#app")},"63e0":function(e,t){},7599:function(e,t,o){},8527:function(e,t,o){"use strict";o("0647")},"85ec":function(e,t,o){},"94d5":function(e,t){},"9e91":function(e,t,o){"use strict";o("7599")},a643:function(e,t,o){},ae5d:function(e,t,o){},bdef:function(e,t,o){"use strict";o("c7c3")},c7c3:function(e,t,o){},e5fd:function(e,t,o){}});
//# sourceMappingURL=app.d4650ed3.js.map